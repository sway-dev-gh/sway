exports.id=300,exports.ids=[300],exports.modules={3217:(e,t,s)=>{Promise.resolve().then(s.bind(s,1310)),Promise.resolve().then(s.bind(s,3136))},3267:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},3564:(e,t,s)=>{"use strict";s.d(t,{Z:()=>f});var r=s(326),i=s(6856),a=s(7577),n=s(434),l=s(5047),o=s(6462),c=s(3136),d=s(9183),m=s(1890),x=s(1810);let u=[{name:"dashboard",href:"/",icon:"▣"},{name:"workspace",href:"/workspace",icon:"▦"},{name:"teams",href:"/teams",icon:"▩"},{name:"review",href:"/review",icon:"▨",count:3},{name:"settings",href:"/settings",icon:"▥"}];function h(){let[e,t]=(0,a.useState)(!1),s=(0,l.usePathname)(),{user:h,logout:p}=(0,c.a)();return(0,r.jsxs)(i.E.div,{initial:!1,animate:{width:e?64:280},transition:{duration:.3,ease:"easeInOut"},className:"flex flex-col bg-terminal-surface border-r border-terminal-border h-screen font-mono",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-terminal-border",children:[r.jsx(o.M,{mode:"wait",children:!e&&r.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex items-center space-x-2",children:r.jsx("img",{src:"/sway-logo.svg",alt:"Sway",className:"h-8"})})}),e&&r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("img",{src:"/sway-logo.svg",alt:"Sway",className:"h-6 w-6"})}),r.jsx("button",{onClick:()=>t(!e),className:"text-terminal-muted hover:text-terminal-text transition-colors p-1",children:e?r.jsx(d.Z,{size:16}):r.jsx(m.Z,{size:16})})]}),r.jsx("nav",{className:"flex-1 p-3",children:r.jsx("div",{className:"space-y-1",children:u.map((t,a)=>{let l=s===t.href||"/"!==t.href&&s.startsWith(t.href);return r.jsx(n.default,{href:t.href,children:(0,r.jsxs)(i.E.div,{className:`flex items-center text-sm transition-colors group cursor-pointer relative ${l?"text-terminal-text bg-terminal-hover":"text-terminal-muted hover:text-terminal-text hover:bg-terminal-hover"}`,children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 w-full py-3 px-4",children:[!e&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"text-lg",children:t.icon}),r.jsx("span",{className:"text-terminal-text capitalize",children:t.name}),t.count&&(0,r.jsxs)("span",{className:"text-terminal-muted ml-auto text-xs",children:["(",t.count,")"]})]}),e&&r.jsx("div",{className:"flex items-center justify-center w-full",children:r.jsx("span",{className:"text-lg",children:t.icon})})]}),l&&r.jsx(i.E.div,{layoutId:"activeTab",className:"absolute left-0 top-0 bottom-0 w-1 bg-terminal-text"})]})},t.name)})})}),(0,r.jsxs)("div",{className:"border-t border-terminal-border p-4",children:[r.jsx(o.M,{mode:"wait",children:!e&&(0,r.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"space-y-3",children:[(0,r.jsxs)("div",{className:"text-xs text-terminal-muted space-y-1",children:[r.jsx("div",{className:"text-terminal-text font-medium",children:h?.username||h?.email||"User"}),r.jsx("div",{className:"text-[10px]",children:h?.email})]}),(0,r.jsxs)("button",{onClick:p,className:"flex items-center space-x-2 w-full text-xs text-terminal-muted hover:text-terminal-text transition-colors py-2 px-2 hover:bg-terminal-hover rounded-sm",children:[r.jsx(x.Z,{size:12}),r.jsx("span",{children:"Logout"})]})]})}),e&&(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("div",{className:"w-2 h-2 bg-terminal-text rounded-full"}),r.jsx("button",{onClick:p,className:"text-terminal-muted hover:text-terminal-text transition-colors p-1",children:r.jsx(x.Z,{size:12})})]})]})]})}var p=s(8998),b=s(6697),v=s(6283);function j(){let[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)("logs"),l=[{key:"logs",label:"Recent",icon:p.Z},{key:"activity",label:"Activity",icon:b.Z},{key:"output",label:"Notifications",icon:v.Z}];return(0,r.jsxs)(i.E.div,{initial:!1,animate:{width:e?64:320},transition:{duration:.3,ease:"easeInOut"},className:"flex flex-col bg-terminal-surface border-l border-terminal-border h-screen",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-terminal-border",children:[r.jsx(o.M,{mode:"wait",children:!e&&r.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex items-center space-x-2",children:r.jsx("span",{className:"text-sm text-terminal-text font-medium",children:"Activity"})})}),r.jsx("button",{onClick:()=>t(!e),className:"text-terminal-muted hover:text-terminal-text transition-colors p-1",children:e?r.jsx(m.Z,{size:16}):r.jsx(d.Z,{size:16})})]}),r.jsx(o.M,{mode:"wait",children:!e&&r.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex border-b border-terminal-border",children:l.map(e=>r.jsx("button",{onClick:()=>n(e.key),className:`flex-1 px-2 py-2 text-xs font-mono uppercase tracking-wider transition-colors ${s===e.key?"bg-terminal-accent text-terminal-text border-b border-terminal-text":"text-terminal-muted hover:text-terminal-text hover:bg-terminal-hover"}`,children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx(e.icon,{size:12}),r.jsx("span",{className:"hidden sm:inline",children:e.label})]})},e.key))})}),(0,r.jsxs)("div",{className:"flex-1 overflow-hidden",children:[r.jsx(o.M,{mode:"wait",children:!e&&(0,r.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-full p-2",children:["logs"===s&&(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-sm text-terminal-text mb-3 border-b border-terminal-border pb-2",children:"Recent Activity"}),r.jsx("div",{className:"space-y-3 max-h-full overflow-y-auto",children:r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-terminal-muted text-sm",children:"No recent activity"})})})]}),"activity"===s&&(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-sm text-terminal-text mb-3 border-b border-terminal-border pb-2",children:"Activity Feed"}),r.jsx("div",{className:"space-y-3",children:r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-terminal-muted text-sm",children:"No activity yet"})})})]}),"output"===s&&(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-sm text-terminal-text mb-3 border-b border-terminal-border pb-2",children:"Notifications"}),r.jsx("div",{className:"space-y-3",children:r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-terminal-muted text-sm",children:"No notifications"})})})]})]})}),e&&r.jsx("div",{className:"flex flex-col items-center py-4 space-y-3",children:l.map(e=>r.jsx("button",{onClick:()=>n(e.key),className:`p-2 rounded transition-colors relative ${s===e.key?"bg-terminal-accent text-terminal-text":"text-terminal-muted hover:text-terminal-text hover:bg-terminal-hover"}`,title:e.label,children:r.jsx(e.icon,{size:16})},e.key))})]}),r.jsx("div",{className:"border-t border-terminal-border p-2",children:r.jsx(o.M,{mode:"wait",children:!e&&r.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"text-xs font-mono text-terminal-muted text-center",children:"SYSTEM ONLINE"})})})]})}function f({children:e}){return(0,r.jsxs)("div",{className:"flex h-screen bg-terminal-bg overflow-hidden font-mono",children:[r.jsx(h,{}),r.jsx(i.E.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"flex-1 flex flex-col overflow-hidden bg-terminal-bg",children:e}),r.jsx(j,{})]})}},1310:(e,t,s)=>{"use strict";s.d(t,{AuthWrapper:()=>l});var r=s(326),i=s(3136),a=s(5047);s(7577);let n=["/login","/signup"];function l({children:e}){let{isAuthenticated:t,isLoading:s}=(0,i.a)(),l=(0,a.usePathname)(),o=n.includes(l);return s?r.jsx("div",{className:"min-h-screen bg-terminal-bg flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block w-8 h-8 border-2 border-terminal-border border-t-terminal-text rounded-full animate-spin mb-4"}),r.jsx("p",{className:"text-terminal-text text-sm font-mono",children:"Authenticating..."})]})}):t||o?t&&o?(window.location.href="/",null):r.jsx(r.Fragment,{children:e}):null}},3136:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>l,a:()=>o});var r=s(326),i=s(7577),a=s(2991);let n=(0,i.createContext)(void 0);function l({children:e}){let[t,s]=(0,i.useState)(null),[l,o]=(0,i.useState)(!0),c=async(e,t)=>{let r=await a.i.login(e,t);return!!r.success&&!!r.user&&(s(r.user),!0)},d=async(e,t,r)=>{let i=await a.i.signup(e,t,r);return!!i.success&&!!i.user&&(s(i.user),!0)};return r.jsx(n.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:l,login:c,signup:d,logout:()=>{a.i.logout(),s(null)}},children:e})}function o(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2991:(e,t,s)=>{"use strict";s.d(t,{i:()=>a});let r="http://localhost:5001",i=async()=>{try{let e=await fetch(`${r}/api/csrf-token`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),t=await e.json();if(e.ok&&t.success&&t.csrfToken)return t.csrfToken;return console.error("Failed to get CSRF token:",t.message),null}catch(e){return console.error("Network error getting CSRF token:",e),null}},a={async login(e,t){try{let s=await i();if(!s)return{success:!1,message:"Security token required. Please refresh and try again."};let a=await fetch(`${r}/api/auth/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":s},body:JSON.stringify({email:e,password:t})}),n=await a.json();if(a.ok&&n.token)return localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.user)),{success:!0,user:n.user,token:n.token};return{success:!1,message:n.error||n.message||"Login failed"}}catch(e){return console.error("Login error:",e),{success:!1,message:"Network error occurred"}}},async signup(e,t,s){try{let a=await i();if(!a)return{success:!1,message:"Security token required. Please refresh and try again."};let n=await fetch(`${r}/api/auth/signup`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":a},body:JSON.stringify({email:e,password:t,name:s})}),l=await n.json();if(n.ok&&l.token)return localStorage.setItem("token",l.token),localStorage.setItem("user",JSON.stringify(l.user)),{success:!0,user:l.user,token:l.token};return{success:!1,message:l.error||l.message||"Signup failed"}}catch(e){return console.error("Signup error:",e),{success:!1,message:"Network error occurred"}}},logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"},getToken:()=>localStorage.getItem("token"),getUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null},isAuthenticated(){return!!this.getToken()}}},436:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>c});var r=s(9510),i=s(5384),a=s.n(i);s(7272);var n=s(8570);let l=(0,n.createProxy)(String.raw`/Users/wjc2007/Desktop/sway/web/contexts/AuthContext.tsx#AuthProvider`);(0,n.createProxy)(String.raw`/Users/wjc2007/Desktop/sway/web/contexts/AuthContext.tsx#useAuth`);let o=(0,n.createProxy)(String.raw`/Users/wjc2007/Desktop/sway/web/components/AuthWrapper.tsx#AuthWrapper`),c={title:"SwayFiles - Versionless Collaborative Workspace",description:"The world's first truly versionless collaborative workspace. Streamline team collaboration with powerful review workflows.",keywords:["collaboration","workspace","productivity","team","versionless"]};function d({children:e}){return r.jsx("html",{lang:"en",className:"dark",children:r.jsx("body",{className:`${a().className} bg-terminal-bg text-terminal-text antialiased`,children:r.jsx(l,{children:r.jsx("div",{className:"min-h-screen bg-terminal-bg",children:r.jsx(o,{children:e})})})})})}},7272:()=>{}};