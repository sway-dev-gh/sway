(()=>{var e={};e.id=938,e.ids=[938],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3306:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),r(7322),r(436),r(5866);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7322)),"/Users/wjc2007/Desktop/sway/web/app/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,436)),"/Users/wjc2007/Desktop/sway/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/wjc2007/Desktop/sway/web/app/settings/page.tsx"],m="/settings/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4897:(e,t,r)=>{Promise.resolve().then(r.bind(r,871))},871:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var s,a=r(326),n=r(7577),i=r(3564),l=r(3136),o="clover",c="https://js.stripe.com",d="".concat(c,"/").concat(o,"/stripe.js"),m=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,x=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,u=function(){for(var e=document.querySelectorAll('script[src^="'.concat(c,'"]')),t=0;t<e.length;t++){var r,s=e[t];if(r=s.src,m.test(r)||x.test(r))return s}return null},p=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(d).concat(t);var s=document.head||document.body;if(!s)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},h=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"8.4.0",startTime:t})},b=null,v=null,g=null,j=function(e,t,r){if(null===e)return null;var s,a=t[0].match(/^pk_test/),n=3===(s=e.version)?"v3":s;a&&n!==o&&console.warn("Stripe.js@".concat(n," was loaded on the page, but @stripe/stripe-js@").concat("8.4.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var i=e.apply(void 0,t);return h(i,r),i},f=!1,y=function(){return s||(s=(null!==b?b:(b=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var r,s=u();s?s&&null!==g&&null!==v&&(s.removeEventListener("load",g),s.removeEventListener("error",v),null===(r=s.parentNode)||void 0===r||r.removeChild(s),s=p(null)):s=p(null),g=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},v=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},s.addEventListener("load",g),s.addEventListener("error",v)}catch(e){t(e);return}})).catch(function(e){return b=null,Promise.reject(e)})).catch(function(e){return s=null,Promise.reject(e)}))};Promise.resolve().then(function(){return y()}).catch(function(e){f||console.warn(e)});let N=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];f=!0;var s=Date.now();return y().then(function(e){return j(e,t,s)})}("pk_test_PLACEHOLDER_REPLACE_IN_PRODUCTION"),w=()=>N,S=async()=>{try{let e=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:"price_1SRM4OHh6kpeQiCo8U0xxGT5",mode:"subscription",successUrl:`${window.location.origin}/settings?billing=success`,cancelUrl:`${window.location.origin}/settings?billing=cancelled`})});if(!e.ok)throw Error("Failed to create checkout session");let{sessionId:t}=await e.json(),r=await w();if(!r)throw Error("Stripe not initialized");let{error:s}=await r.redirectToCheckout({sessionId:t});if(s)throw s}catch(e){throw console.error("Stripe checkout error:",e),e}},P=[{name:"Free",price:"$0",period:"forever",features:["Up to 3 active projects","Basic collaboration tools","5GB storage per project","Community support","Basic review workflows","10 requests per month"],buttonText:"Current Plan",current:!0},{name:"Pro",price:"$15",period:"per month",features:["Unlimited projects","Advanced collaboration tools","100GB storage per project","Priority support","Custom review workflows","Unlimited requests","Advanced analytics","Team management","API access","Custom integrations"],buttonText:"Upgrade to Pro",popular:!0}];function C(){let[e,t]=(0,n.useState)(!1),{user:r}=(0,l.a)(),s=r?.plan||"free",i=async e=>{if("Free"!==e){t(!0);try{await S()}catch(e){console.error("Stripe checkout error:",e),alert("Payment setup failed. Please try again.")}finally{t(!1)}}};return a.jsx("div",{className:"bg-terminal-bg py-12",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-6",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl text-terminal-text font-medium mb-4",children:"Choose Your Plan"}),a.jsx("p",{className:"text-terminal-muted text-sm max-w-2xl mx-auto",children:"Start free and upgrade when you need more power. All plans include our core collaboration features."})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:P.map(t=>{let r=s===t.name.toLowerCase(),n="Free"===t.name||!r;return(0,a.jsxs)("div",{className:`bg-terminal-surface border rounded-sm p-6 relative ${t.popular?"border-terminal-text":"border-terminal-border"}`,children:[t.popular&&a.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:a.jsx("span",{className:"bg-terminal-text text-terminal-bg px-3 py-1 text-xs font-medium",children:"POPULAR"})}),r&&a.jsx("div",{className:"absolute -top-3 right-4",children:a.jsx("span",{className:"bg-green-600 text-white px-3 py-1 text-xs font-medium",children:"CURRENT"})}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl text-terminal-text font-medium mb-2",children:t.name}),(0,a.jsxs)("div",{className:"flex items-baseline",children:[a.jsx("span",{className:"text-3xl text-terminal-text font-bold",children:t.price}),(0,a.jsxs)("span",{className:"text-terminal-muted text-sm ml-2",children:["/",t.period]})]})]}),a.jsx("div",{className:"mb-8",children:a.jsx("ul",{className:"space-y-3",children:t.features.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start text-sm",children:[a.jsx("span",{className:"text-terminal-text mr-3 mt-1",children:"✓"}),a.jsx("span",{className:"text-terminal-muted",children:e})]},t))})}),a.jsx("button",{onClick:()=>i(t.name),disabled:!n||e,className:`w-full py-3 px-4 text-sm font-medium transition-colors ${r?"bg-terminal-hover text-terminal-muted cursor-default":t.popular?"bg-terminal-text text-terminal-bg hover:bg-terminal-muted":"border border-terminal-border text-terminal-text hover:bg-terminal-hover"} ${!n||e?"opacity-50 cursor-not-allowed":""}`,children:e?"Processing...":r?"Current Plan":t.buttonText}),"Pro"===t.name&&(0,a.jsxs)("div",{className:"mt-4 text-xs text-terminal-muted text-center",children:[a.jsx("p",{children:"✓ Enhanced security features"}),a.jsx("p",{children:"✓ SOC 2 compliance"}),a.jsx("p",{children:"✓ Advanced audit logs"})]})]},t.name)})}),(0,a.jsxs)("div",{className:"mt-16 bg-terminal-surface border border-terminal-border rounded-sm p-6",children:[a.jsx("h3",{className:"text-lg text-terminal-text font-medium mb-4 text-center",children:"\uD83D\uDD10 Security & Trust"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 text-sm text-terminal-muted",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium text-terminal-text mb-2",children:"End-to-End Encryption"}),a.jsx("p",{children:"All data encrypted in transit and at rest with AES-256"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium text-terminal-text mb-2",children:"Zero-Trust Architecture"}),a.jsx("p",{children:"Multi-factor authentication and session management"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium text-terminal-text mb-2",children:"Audit Logs"}),a.jsx("p",{children:"Complete activity tracking and compliance reporting"})]})]})]})]})})}function D(){let[e,t]=(0,n.useState)("account"),[r,s]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[d,m]=(0,n.useState)(!1),[x,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),{user:b}=(0,l.a)(),v=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),g=e=>/^[a-zA-Z0-9_-]{3,30}$/.test(e),j=async()=>{h(!0);try{if(r&&!v(r)){alert("Please enter a valid email address");return}if(o&&!g(o)){alert("Username must be 3-30 characters and contain only letters, numbers, underscores, and hyphens");return}console.log("Saving settings:",{email:r,username:o,emailNotifications:d,projectUpdates:x}),alert("Settings saved successfully!")}catch(e){console.error("Save error:",e),alert("Failed to save settings")}finally{h(!1)}};return a.jsx(i.Z,{children:(0,a.jsxs)("div",{className:"flex-1 overflow-auto bg-terminal-bg",children:[(0,a.jsxs)("div",{className:"bg-terminal-surface border-b border-terminal-border p-6",children:[a.jsx("h1",{className:"text-xl text-terminal-text font-medium",children:"Settings"}),a.jsx("p",{className:"text-terminal-muted text-sm mt-1",children:"Manage your account and preferences"})]}),(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-terminal-border",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"account",name:"Account",icon:"\uD83D\uDC64"},{id:"billing",name:"Billing",icon:"\uD83D\uDCB3"},{id:"security",name:"Security",icon:"\uD83D\uDD10"}].map(r=>(0,a.jsxs)("button",{onClick:()=>t(r.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===r.id?"border-terminal-text text-terminal-text":"border-transparent text-terminal-muted hover:text-terminal-text hover:border-terminal-hover"}`,children:[a.jsx("span",{className:"mr-2",children:r.icon}),r.name]},r.id))})})}),"account"===e&&a.jsx("div",{className:"bg-terminal-surface border border-terminal-border rounded-sm p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-terminal-text text-lg mb-4",children:"Account Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-terminal-text mb-1",children:"Email *"}),a.jsx("input",{type:"email",value:r,onChange:e=>s(e.target.value),placeholder:"your@email.com",className:"w-full bg-terminal-bg border border-terminal-border px-3 py-2 text-terminal-text placeholder-terminal-muted text-sm focus:outline-none focus:border-terminal-text",maxLength:100})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-terminal-text mb-1",children:"Username"}),a.jsx("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"username",className:"w-full bg-terminal-bg border border-terminal-border px-3 py-2 text-terminal-text placeholder-terminal-muted text-sm focus:outline-none focus:border-terminal-text",maxLength:30}),a.jsx("p",{className:"text-xs text-terminal-muted mt-1",children:"3-30 characters, letters, numbers, underscore, and hyphen only"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-terminal-text text-lg mb-4",children:"Notification Preferences"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-terminal-text text-sm",children:"Email Notifications"}),a.jsx("button",{onClick:()=>m(!d),className:`px-3 py-1 text-xs transition-colors ${d?"bg-terminal-text text-terminal-bg":"bg-terminal-border text-terminal-text hover:bg-terminal-hover"}`,children:d?"Enabled":"Disabled"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-terminal-text text-sm",children:"Project Updates"}),a.jsx("button",{onClick:()=>u(!x),className:`px-3 py-1 text-xs transition-colors ${x?"bg-terminal-text text-terminal-bg":"bg-terminal-border text-terminal-text hover:bg-terminal-hover"}`,children:x?"Enabled":"Disabled"})]})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:j,disabled:p,className:"bg-terminal-text text-terminal-bg px-4 py-2 text-sm hover:bg-terminal-muted transition-colors disabled:opacity-50",children:p?"Saving...":"Save Changes"})})]})}),"billing"===e&&a.jsx("div",{children:a.jsx(C,{})}),"security"===e&&a.jsx("div",{className:"bg-terminal-surface border border-terminal-border rounded-sm p-6",children:a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-terminal-text text-lg mb-4",children:"\uD83D\uDD10 Security Settings"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border border-terminal-border rounded-sm p-4",children:[a.jsx("h3",{className:"text-terminal-text font-medium mb-2",children:"Password Security"}),a.jsx("p",{className:"text-terminal-muted text-sm mb-3",children:"Your password meets security requirements: 12+ characters with uppercase, lowercase, numbers, and special characters."}),a.jsx("button",{className:"bg-terminal-border text-terminal-text px-3 py-2 text-sm hover:bg-terminal-hover transition-colors",children:"Change Password"})]}),(0,a.jsxs)("div",{className:"border border-terminal-border rounded-sm p-4",children:[a.jsx("h3",{className:"text-terminal-text font-medium mb-2",children:"Active Sessions"}),a.jsx("p",{className:"text-terminal-muted text-sm mb-3",children:"You have 1 active session. Log out of all devices to enhance security."}),a.jsx("button",{className:"bg-red-600 text-white px-3 py-2 text-sm hover:bg-red-700 transition-colors",children:"Logout All Devices"})]}),(0,a.jsxs)("div",{className:"border border-terminal-border rounded-sm p-4",children:[a.jsx("h3",{className:"text-terminal-text font-medium mb-2",children:"Account Activity"}),(0,a.jsxs)("p",{className:"text-terminal-muted text-sm mb-3",children:["Monitor your account for suspicious activity. Last login: ",new Date().toLocaleString()]}),a.jsx("button",{className:"bg-terminal-border text-terminal-text px-3 py-2 text-sm hover:bg-terminal-hover transition-colors",children:"View Activity Log"})]})]})]})})})]})]})})}},7322:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/wjc2007/Desktop/sway/web/app/settings/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,461,115,300],()=>r(3306));module.exports=s})();