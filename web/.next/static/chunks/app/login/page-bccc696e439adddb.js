(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{9892:function(e,t,r){Promise.resolve().then(r.bind(r,6374))},6374:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var s=r(7437),a=r(2265),n=r(6023),l=r(9376),i=r(3145);function o(){let[e,t]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!0),[m,u]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),[g,b]=(0,a.useState)(""),p=(0,l.useRouter)(),f=async t=>{t.preventDefault(),h(!0),b("");try{let t=c?await n.i.login(e,r):await n.i.signup(e,r,m);t.success?p.push("/dashboard"):b(t.message||"Authentication failed")}catch(e){b("Network error occurred")}finally{h(!1)}},j=async()=>{h(!0),b("");try{(await n.i.login("dev@swayfiles.com","dev123")).success?p.push("/dashboard"):(await n.i.signup("dev@swayfiles.com","dev123","Developer")).success?p.push("/dashboard"):b("Could not create or login to dev account")}catch(e){b("Network error occurred")}finally{h(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-terminal-bg font-mono flex",children:[(0,s.jsx)("div",{className:"hidden lg:flex lg:w-1/2 bg-terminal-surface border-r border-terminal-border items-center justify-center p-12",children:(0,s.jsxs)("div",{className:"text-center space-y-8",children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(i.default,{src:"/logo.png",alt:"Sway Logo",width:200,height:200,className:"mx-auto filter brightness-0 invert opacity-90",priority:!0})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h1",{className:"text-3xl font-medium text-terminal-text",children:"Welcome to Swayfiles"}),(0,s.jsx)("p",{className:"text-terminal-muted leading-relaxed max-w-md text-sm",children:"The world's first truly versionless collaborative workspace. Create, collaborate, and innovate in real-time."}),(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-6 text-xs text-terminal-muted border-t border-terminal-border pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-1 h-1 bg-terminal-text rounded-full"}),(0,s.jsx)("span",{children:"Real-time collaboration"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-1 h-1 bg-terminal-text rounded-full"}),(0,s.jsx)("span",{children:"Live presence"})]})]})]})]})}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsx)("div",{className:"lg:hidden text-center mb-8",children:(0,s.jsx)(i.default,{src:"/logo.png",alt:"Sway Logo",width:60,height:60,className:"mx-auto filter brightness-0 invert opacity-90",priority:!0})}),(0,s.jsxs)("div",{className:"bg-terminal-surface border border-terminal-border p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-medium text-terminal-text mb-2",children:c?"Sign In":"Create Account"}),(0,s.jsx)("p",{className:"text-terminal-muted text-sm",children:c?"Welcome back to your workspace":"Join and start collaborating"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("button",{onClick:j,disabled:x,className:"w-full bg-terminal-text text-terminal-bg py-3 px-4 font-medium hover:bg-terminal-text/90 transition-colors disabled:opacity-50",children:"Quick Demo Login"}),(0,s.jsx)("p",{className:"text-xs text-terminal-muted text-center mt-2",children:"For development - creates/logs into dev@swayfiles.com"})]}),(0,s.jsxs)("div",{className:"flex items-center my-6",children:[(0,s.jsx)("div",{className:"flex-1 border-t border-terminal-border"}),(0,s.jsx)("span",{className:"px-4 text-terminal-muted text-xs",children:"or"}),(0,s.jsx)("div",{className:"flex-1 border-t border-terminal-border"})]}),g&&(0,s.jsx)("div",{className:"bg-terminal-surface border border-terminal-border p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-terminal-text rounded-full flex-shrink-0"}),(0,s.jsx)("p",{className:"text-terminal-text text-sm",children:g})]})}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[!c&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-terminal-text mb-2",children:"Username"}),(0,s.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),className:"w-full bg-terminal-bg border border-terminal-border px-3 py-3 text-terminal-text placeholder-terminal-muted text-sm focus:outline-none focus:border-terminal-text transition-colors",placeholder:"Choose a username",required:!c})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-terminal-text mb-2",children:"Email Address"}),(0,s.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full bg-terminal-bg border border-terminal-border px-3 py-3 text-terminal-text placeholder-terminal-muted text-sm focus:outline-none focus:border-terminal-text transition-colors",placeholder:"Enter your email",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-terminal-text mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",value:r,onChange:e=>o(e.target.value),className:"w-full bg-terminal-bg border border-terminal-border px-3 py-3 text-terminal-text placeholder-terminal-muted text-sm focus:outline-none focus:border-terminal-text transition-colors",placeholder:"Enter your password",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:x,className:"w-full bg-terminal-text text-terminal-bg py-3 px-4 font-medium hover:bg-terminal-text/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:x?(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 border border-terminal-bg border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Please wait..."})]}):c?"Sign In":"Create Account"})]}),(0,s.jsx)("div",{className:"mt-8 text-center",children:(0,s.jsxs)("p",{className:"text-terminal-muted text-sm",children:[c?"Don't have an account?":"Already have an account?",(0,s.jsx)("button",{onClick:()=>{d(!c),b("")},className:"text-terminal-text ml-2 hover:underline transition-all",children:c?"Sign up":"Sign in"})]})})]}),(0,s.jsx)("div",{className:"text-center mt-6",children:(0,s.jsx)("p",{className:"text-terminal-muted text-xs",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})})]})})]})}},6023:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let s="https://api.swayfiles.com",a=async()=>{try{let e=await fetch("".concat(s,"/api/csrf-token"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),t=await e.json();if(e.ok&&t.success&&t.csrfToken)return t.csrfToken;return console.error("Failed to get CSRF token:",t.message),null}catch(e){return console.error("Network error getting CSRF token:",e),null}},n={async login(e,t){try{let r=await a(),n={"Content-Type":"application/json"};r&&(n["X-CSRF-Token"]=r);let l=await fetch("".concat(s,"/api/auth/login"),{method:"POST",credentials:"include",headers:n,body:JSON.stringify({email:e,password:t})}),i=await l.json();if(l.ok&&i.token)return localStorage.setItem("token",i.token),localStorage.setItem("user",JSON.stringify(i.user)),{success:!0,user:i.user,token:i.token};return{success:!1,message:i.error||i.message||"Login failed"}}catch(e){return console.error("Login error:",e),{success:!1,message:"Network error occurred"}}},async signup(e,t,r){try{let n=await a(),l={"Content-Type":"application/json"};n&&(l["X-CSRF-Token"]=n);let i=await fetch("".concat(s,"/api/auth/signup"),{method:"POST",credentials:"include",headers:l,body:JSON.stringify({email:e,password:t,name:r})}),o=await i.json();if(i.ok&&o.token)return localStorage.setItem("token",o.token),localStorage.setItem("user",JSON.stringify(o.user)),{success:!0,user:o.user,token:o.token};return{success:!1,message:o.error||o.message||"Signup failed"}}catch(e){return console.error("Signup error:",e),{success:!1,message:"Network error occurred"}}},logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"},getToken:()=>localStorage.getItem("token"),getUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null},isAuthenticated(){return!!this.getToken()}}}},function(e){e.O(0,[785,971,117,744],function(){return e(e.s=9892)}),_N_E=e.O()}]);