(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{9383:function(e,t,r){Promise.resolve().then(r.bind(r,9932))},9932:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var s,n=r(7437),a=r(2265),i=r(2858),l=r(6281),c="clover",o="https://js.stripe.com",m="".concat(o,"/").concat(c,"/stripe.js"),d=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,x=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,u=function(){for(var e=document.querySelectorAll('script[src^="'.concat(o,'"]')),t=0;t<e.length;t++){var r,s=e[t];if(r=s.src,d.test(r)||x.test(r))return s}return null},p=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(m).concat(t);var s=document.head||document.body;if(!s)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},h=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"8.4.0",startTime:t})},b=null,v=null,j=null,f=function(e,t,r){if(null===e)return null;var s,n=t[0].match(/^pk_test/),a=3===(s=e.version)?"v3":s;n&&a!==c&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("8.4.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var i=e.apply(void 0,t);return h(i,r),i},g=!1,N=function(){return s||(s=(null!==b?b:(b=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var r,s=u();s?s&&null!==j&&null!==v&&(s.removeEventListener("load",j),s.removeEventListener("error",v),null===(r=s.parentNode)||void 0===r||r.removeChild(s),s=p(null)):s=p(null),j=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},v=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},s.addEventListener("load",j),s.addEventListener("error",v)}catch(e){t(e);return}})).catch(function(e){return b=null,Promise.reject(e)})).catch(function(e){return s=null,Promise.reject(e)}))};Promise.resolve().then(function(){return N()}).catch(function(e){g||console.warn(e)});let y=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];g=!0;var s=Date.now();return N().then(function(e){return f(e,t,s)})}("pk_test_PLACEHOLDER_REPLACE_IN_PRODUCTION"),w=()=>y,S=async()=>{try{let e=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:"price_1SRM4OHh6kpeQiCo8U0xxGT5",mode:"subscription",successUrl:"".concat(window.location.origin,"/settings?billing=success"),cancelUrl:"".concat(window.location.origin,"/settings?billing=cancelled")})});if(!e.ok)throw Error("Failed to create checkout session");let{sessionId:t}=await e.json(),r=await w();if(!r)throw Error("Stripe not initialized");let{error:s}=await r.redirectToCheckout({sessionId:t});if(s)throw s}catch(e){throw console.error("Stripe checkout error:",e),e}},C=[{name:"Free",price:"$0",period:"forever",features:["Up to 3 active projects","Basic collaboration tools","5GB storage per project","Community support","Basic review workflows","10 requests per month"],buttonText:"Current Plan",current:!0},{name:"Pro",price:"$15",period:"per month",features:["Unlimited projects","Advanced collaboration tools","100GB storage per project","Priority support","Custom review workflows","Unlimited requests","Advanced analytics","Team management","API access","Custom integrations"],buttonText:"Upgrade to Pro",popular:!0}];function E(){let[e,t]=(0,a.useState)(!1),{user:r}=(0,l.a)(),s=(null==r?void 0:r.plan)||"free",i=async e=>{if("Free"!==e){t(!0);try{await S()}catch(e){console.error("Stripe checkout error:",e),alert("Payment setup failed. Please try again.")}finally{t(!1)}}};return(0,n.jsx)("div",{className:"bg-terminal-bg py-12",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-6",children:[(0,n.jsxs)("div",{className:"text-center mb-12",children:[(0,n.jsx)("h2",{className:"text-2xl text-terminal-text font-medium mb-4",children:"Choose Your Plan"}),(0,n.jsx)("p",{className:"text-terminal-muted text-sm max-w-2xl mx-auto",children:"Start free and upgrade when you need more power. All plans include our core collaboration features."})]}),(0,n.jsx)("div",{className:"grid md:grid-cols-2 gap-8",children:C.map(t=>{let r=s===t.name.toLowerCase(),a="Free"===t.name||!r;return(0,n.jsxs)("div",{className:"bg-terminal-surface border rounded-sm p-6 relative ".concat(t.popular?"border-terminal-text":"border-terminal-border"),children:[t.popular&&(0,n.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,n.jsx)("span",{className:"bg-terminal-text text-terminal-bg px-3 py-1 text-xs font-medium",children:"POPULAR"})}),r&&(0,n.jsx)("div",{className:"absolute -top-3 right-4",children:(0,n.jsx)("span",{className:"bg-green-600 text-white px-3 py-1 text-xs font-medium",children:"CURRENT"})}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h3",{className:"text-xl text-terminal-text font-medium mb-2",children:t.name}),(0,n.jsxs)("div",{className:"flex items-baseline",children:[(0,n.jsx)("span",{className:"text-3xl text-terminal-text font-bold",children:t.price}),(0,n.jsxs)("span",{className:"text-terminal-muted text-sm ml-2",children:["/",t.period]})]})]}),(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsx)("ul",{className:"space-y-3",children:t.features.map((e,t)=>(0,n.jsxs)("li",{className:"flex items-start text-sm",children:[(0,n.jsx)("span",{className:"text-terminal-text mr-3 mt-1",children:"✓"}),(0,n.jsx)("span",{className:"text-terminal-muted",children:e})]},t))})}),(0,n.jsx)("button",{onClick:()=>i(t.name),disabled:!a||e,className:"w-full py-3 px-4 text-sm font-medium transition-colors ".concat(r?"bg-terminal-hover text-terminal-muted cursor-default":t.popular?"bg-terminal-text text-terminal-bg hover:bg-terminal-muted":"border border-terminal-border text-terminal-text hover:bg-terminal-hover"," ").concat(!a||e?"opacity-50 cursor-not-allowed":""),children:e?"Processing...":r?"Current Plan":t.buttonText}),"Pro"===t.name&&(0,n.jsxs)("div",{className:"mt-4 text-xs text-terminal-muted text-center",children:[(0,n.jsx)("p",{children:"✓ Enhanced security features"}),(0,n.jsx)("p",{children:"✓ SOC 2 compliance"}),(0,n.jsx)("p",{children:"✓ Advanced audit logs"})]})]},t.name)})}),(0,n.jsxs)("div",{className:"mt-16 bg-terminal-surface border border-terminal-border rounded-sm p-6",children:[(0,n.jsx)("h3",{className:"text-lg text-terminal-text font-medium mb-4 text-center",children:"\uD83D\uDD10 Security & Trust"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 text-sm text-terminal-muted",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"font-medium text-terminal-text mb-2",children:"End-to-End Encryption"}),(0,n.jsx)("p",{children:"All data encrypted in transit and at rest with AES-256"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"font-medium text-terminal-text mb-2",children:"Zero-Trust Architecture"}),(0,n.jsx)("p",{children:"Multi-factor authentication and session management"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"font-medium text-terminal-text mb-2",children:"Audit Logs"}),(0,n.jsx)("p",{children:"Complete activity tracking and compliance reporting"})]})]})]})]})})}function P(){let[e,t]=(0,a.useState)("account"),[r,s]=(0,a.useState)(""),[c,o]=(0,a.useState)(""),[m,d]=(0,a.useState)(!1),[x,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),{user:b}=(0,l.a)();a.useEffect(()=>{b&&(s(b.email),o(b.username||""))},[b]);let v=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),j=e=>/^[a-zA-Z0-9_-]{3,30}$/.test(e),f=async()=>{h(!0);try{if(r&&!v(r)){alert("Please enter a valid email address");return}if(c&&!j(c)){alert("Username must be 3-30 characters and contain only letters, numbers, underscores, and hyphens");return}console.log("Saving settings:",{email:r,username:c,emailNotifications:m,projectUpdates:x}),alert("Settings saved successfully!")}catch(e){console.error("Save error:",e),alert("Failed to save settings")}finally{h(!1)}};return(0,n.jsx)(i.Z,{children:(0,n.jsxs)("div",{className:"flex-1 overflow-auto bg-terminal-bg",children:[(0,n.jsxs)("div",{className:"bg-terminal-surface border-b border-terminal-border p-6",children:[(0,n.jsx)("h1",{className:"text-xl text-terminal-text font-medium",children:"Settings"}),(0,n.jsx)("p",{className:"text-terminal-muted text-sm mt-1",children:"Manage your account and preferences"})]}),(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)("div",{className:"border-b border-terminal-border",children:(0,n.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"account",name:"Account",icon:"\uD83D\uDC64"},{id:"billing",name:"Billing",icon:"\uD83D\uDCB3"},{id:"security",name:"Security",icon:"\uD83D\uDD10"}].map(r=>(0,n.jsxs)("button",{onClick:()=>t(r.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(e===r.id?"border-terminal-text text-terminal-text":"border-transparent text-terminal-muted hover:text-terminal-text hover:border-terminal-hover"),children:[(0,n.jsx)("span",{className:"mr-2",children:r.icon}),r.name]},r.id))})})}),"account"===e&&(0,n.jsx)("div",{className:"bg-terminal-surface border border-terminal-border rounded-sm p-6",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-terminal-text text-lg mb-4",children:"Account Information"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-terminal-text mb-1",children:"Email *"}),(0,n.jsx)("input",{type:"email",value:r,onChange:e=>s(e.target.value),placeholder:"your@email.com",className:"w-full bg-terminal-bg border border-terminal-border px-3 py-2 text-terminal-text placeholder-terminal-muted text-sm focus:outline-none focus:border-terminal-text",maxLength:100})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-terminal-text mb-1",children:"Username"}),(0,n.jsx)("input",{type:"text",value:c,onChange:e=>o(e.target.value),placeholder:"username",className:"w-full bg-terminal-bg border border-terminal-border px-3 py-2 text-terminal-text placeholder-terminal-muted text-sm focus:outline-none focus:border-terminal-text",maxLength:30}),(0,n.jsx)("p",{className:"text-xs text-terminal-muted mt-1",children:"3-30 characters, letters, numbers, underscore, and hyphen only"})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-terminal-text text-lg mb-4",children:"Notification Preferences"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-terminal-text text-sm",children:"Email Notifications"}),(0,n.jsx)("button",{onClick:()=>d(!m),className:"px-3 py-1 text-xs transition-colors ".concat(m?"bg-terminal-text text-terminal-bg":"bg-terminal-border text-terminal-text hover:bg-terminal-hover"),children:m?"Enabled":"Disabled"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-terminal-text text-sm",children:"Project Updates"}),(0,n.jsx)("button",{onClick:()=>u(!x),className:"px-3 py-1 text-xs transition-colors ".concat(x?"bg-terminal-text text-terminal-bg":"bg-terminal-border text-terminal-text hover:bg-terminal-hover"),children:x?"Enabled":"Disabled"})]})]})]}),(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)("button",{onClick:f,disabled:p,className:"bg-terminal-text text-terminal-bg px-4 py-2 text-sm hover:bg-terminal-muted transition-colors disabled:opacity-50",children:p?"Saving...":"Save Changes"})})]})}),"billing"===e&&(0,n.jsx)("div",{children:(0,n.jsx)(E,{})}),"security"===e&&(0,n.jsx)("div",{className:"bg-terminal-surface border border-terminal-border rounded-sm p-6",children:(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-terminal-text text-lg mb-4",children:"\uD83D\uDD10 Security Settings"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"border border-terminal-border rounded-sm p-4",children:[(0,n.jsx)("h3",{className:"text-terminal-text font-medium mb-2",children:"Password Security"}),(0,n.jsx)("p",{className:"text-terminal-muted text-sm mb-3",children:"Your password meets security requirements: 12+ characters with uppercase, lowercase, numbers, and special characters."}),(0,n.jsx)("button",{className:"bg-terminal-border text-terminal-text px-3 py-2 text-sm hover:bg-terminal-hover transition-colors",children:"Change Password"})]}),(0,n.jsxs)("div",{className:"border border-terminal-border rounded-sm p-4",children:[(0,n.jsx)("h3",{className:"text-terminal-text font-medium mb-2",children:"Active Sessions"}),(0,n.jsx)("p",{className:"text-terminal-muted text-sm mb-3",children:"You have 1 active session. Log out of all devices to enhance security."}),(0,n.jsx)("button",{className:"bg-red-600 text-white px-3 py-2 text-sm hover:bg-red-700 transition-colors",children:"Logout All Devices"})]}),(0,n.jsxs)("div",{className:"border border-terminal-border rounded-sm p-4",children:[(0,n.jsx)("h3",{className:"text-terminal-text font-medium mb-2",children:"Account Activity"}),(0,n.jsxs)("p",{className:"text-terminal-muted text-sm mb-3",children:["Monitor your account for suspicious activity. Last login: ",new Date().toLocaleString()]}),(0,n.jsx)("button",{className:"bg-terminal-border text-terminal-text px-3 py-2 text-sm hover:bg-terminal-hover transition-colors",children:"View Activity Log"})]})]})]})})})]})]})})}}},function(e){e.O(0,[457,858,971,117,744],function(){return e(e.s=9383)}),_N_E=e.O()}]);