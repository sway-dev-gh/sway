"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[858],{2858:function(e,t,s){s.d(t,{Z:function(){return y}});var i=s(7437),r=s(429),a=s(2265),n=s(7648),l=s(9376),c=s(5095),o=s(6281),d=s(407),m=s(2451),x=s(7692);let u=[{name:"dashboard",href:"/",icon:"▣"},{name:"workspace",href:"/workspace",icon:"▦"},{name:"teams",href:"/teams",icon:"▩"},{name:"review",href:"/review",icon:"▨",count:3},{name:"settings",href:"/settings",icon:"▥"}];function h(){let[e,t]=(0,a.useState)(!1),s=(0,l.usePathname)(),{user:h,logout:p}=(0,o.a)();return(0,i.jsxs)(r.E.div,{initial:!1,animate:{width:e?64:280},transition:{duration:.3,ease:"easeInOut"},className:"flex flex-col bg-terminal-surface border-r border-terminal-border h-screen font-mono",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-terminal-border",children:[(0,i.jsx)(c.M,{mode:"wait",children:!e&&(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex items-center space-x-2",children:(0,i.jsx)("img",{src:"/sway-logo.svg",alt:"Sway",className:"h-8"})})}),e&&(0,i.jsx)("div",{className:"flex items-center justify-center",children:(0,i.jsx)("img",{src:"/sway-logo.svg",alt:"Sway",className:"h-6 w-6"})}),(0,i.jsx)("button",{onClick:()=>t(!e),className:"text-terminal-muted hover:text-terminal-text transition-colors p-1",children:e?(0,i.jsx)(d.Z,{size:16}):(0,i.jsx)(m.Z,{size:16})})]}),(0,i.jsx)("nav",{className:"flex-1 p-3",children:(0,i.jsx)("div",{className:"space-y-1",children:u.map((t,a)=>{let l=s===t.href||"/"!==t.href&&s.startsWith(t.href);return(0,i.jsx)(n.default,{href:t.href,children:(0,i.jsxs)(r.E.div,{className:"flex items-center text-sm transition-colors group cursor-pointer relative ".concat(l?"text-terminal-text bg-terminal-hover":"text-terminal-muted hover:text-terminal-text hover:bg-terminal-hover"),children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 w-full py-3 px-4",children:[!e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"text-lg",children:t.icon}),(0,i.jsx)("span",{className:"text-terminal-text capitalize",children:t.name}),t.count&&(0,i.jsxs)("span",{className:"text-terminal-muted ml-auto text-xs",children:["(",t.count,")"]})]}),e&&(0,i.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,i.jsx)("span",{className:"text-lg",children:t.icon})})]}),l&&(0,i.jsx)(r.E.div,{layoutId:"activeTab",className:"absolute left-0 top-0 bottom-0 w-1 bg-terminal-text"})]})},t.name)})})}),(0,i.jsxs)("div",{className:"border-t border-terminal-border p-4",children:[(0,i.jsx)(c.M,{mode:"wait",children:!e&&(0,i.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"space-y-3",children:[(0,i.jsxs)("div",{className:"text-xs text-terminal-muted space-y-1",children:[(0,i.jsx)("div",{className:"text-terminal-text font-medium",children:(null==h?void 0:h.username)||(null==h?void 0:h.email)||"User"}),(0,i.jsx)("div",{className:"text-[10px]",children:null==h?void 0:h.email})]}),(0,i.jsxs)("button",{onClick:p,className:"flex items-center space-x-2 w-full text-xs text-terminal-muted hover:text-terminal-text transition-colors py-2 px-2 hover:bg-terminal-hover rounded-sm",children:[(0,i.jsx)(x.Z,{size:12}),(0,i.jsx)("span",{children:"Logout"})]})]})}),e&&(0,i.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,i.jsx)("div",{className:"w-2 h-2 bg-terminal-text rounded-full"}),(0,i.jsx)("button",{onClick:p,className:"text-terminal-muted hover:text-terminal-text transition-colors p-1",children:(0,i.jsx)(x.Z,{size:12})})]})]})]})}var p=s(1723),f=s(4401),j=s(8736);function v(){let[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)("logs"),l=[{key:"logs",label:"Recent",icon:p.Z},{key:"activity",label:"Activity",icon:f.Z},{key:"output",label:"Notifications",icon:j.Z}];return(0,i.jsxs)(r.E.div,{initial:!1,animate:{width:e?64:320},transition:{duration:.3,ease:"easeInOut"},className:"flex flex-col bg-terminal-surface border-l border-terminal-border h-screen",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-terminal-border",children:[(0,i.jsx)(c.M,{mode:"wait",children:!e&&(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex items-center space-x-2",children:(0,i.jsx)("span",{className:"text-sm text-terminal-text font-medium",children:"Activity"})})}),(0,i.jsx)("button",{onClick:()=>t(!e),className:"text-terminal-muted hover:text-terminal-text transition-colors p-1",children:e?(0,i.jsx)(m.Z,{size:16}):(0,i.jsx)(d.Z,{size:16})})]}),(0,i.jsx)(c.M,{mode:"wait",children:!e&&(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex border-b border-terminal-border",children:l.map(e=>(0,i.jsx)("button",{onClick:()=>n(e.key),className:"flex-1 px-2 py-2 text-xs font-mono uppercase tracking-wider transition-colors ".concat(s===e.key?"bg-terminal-accent text-terminal-text border-b border-terminal-text":"text-terminal-muted hover:text-terminal-text hover:bg-terminal-hover"),children:(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,i.jsx)(e.icon,{size:12}),(0,i.jsx)("span",{className:"hidden sm:inline",children:e.label})]})},e.key))})}),(0,i.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,i.jsx)(c.M,{mode:"wait",children:!e&&(0,i.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-full p-2",children:["logs"===s&&(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("div",{className:"text-sm text-terminal-text mb-3 border-b border-terminal-border pb-2",children:"Recent Activity"}),(0,i.jsx)("div",{className:"space-y-3 max-h-full overflow-y-auto",children:(0,i.jsx)("div",{className:"text-center py-8",children:(0,i.jsx)("p",{className:"text-terminal-muted text-sm",children:"No recent activity"})})})]}),"activity"===s&&(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("div",{className:"text-sm text-terminal-text mb-3 border-b border-terminal-border pb-2",children:"Activity Feed"}),(0,i.jsx)("div",{className:"space-y-3",children:(0,i.jsx)("div",{className:"text-center py-8",children:(0,i.jsx)("p",{className:"text-terminal-muted text-sm",children:"No activity yet"})})})]}),"output"===s&&(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("div",{className:"text-sm text-terminal-text mb-3 border-b border-terminal-border pb-2",children:"Notifications"}),(0,i.jsx)("div",{className:"space-y-3",children:(0,i.jsx)("div",{className:"text-center py-8",children:(0,i.jsx)("p",{className:"text-terminal-muted text-sm",children:"No notifications"})})})]})]})}),e&&(0,i.jsx)("div",{className:"flex flex-col items-center py-4 space-y-3",children:l.map(e=>(0,i.jsx)("button",{onClick:()=>n(e.key),className:"p-2 rounded transition-colors relative ".concat(s===e.key?"bg-terminal-accent text-terminal-text":"text-terminal-muted hover:text-terminal-text hover:bg-terminal-hover"),title:e.label,children:(0,i.jsx)(e.icon,{size:16})},e.key))})]}),(0,i.jsx)("div",{className:"border-t border-terminal-border p-2",children:(0,i.jsx)(c.M,{mode:"wait",children:!e&&(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"text-xs font-mono text-terminal-muted text-center",children:"SYSTEM ONLINE"})})})]})}function y(e){let{children:t}=e;return(0,i.jsxs)("div",{className:"flex h-screen bg-terminal-bg overflow-hidden font-mono",children:[(0,i.jsx)(h,{}),(0,i.jsx)(r.E.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"flex-1 flex flex-col overflow-hidden bg-terminal-bg",children:t}),(0,i.jsx)(v,{})]})}},6281:function(e,t,s){s.d(t,{AuthProvider:function(){return l},a:function(){return c}});var i=s(7437),r=s(2265),a=s(6023);let n=(0,r.createContext)(void 0);function l(e){let{children:t}=e,[s,l]=(0,r.useState)(null),[c,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=a.i.getToken(),t=a.i.getUser();e&&t&&l(t),o(!1)},[]);let d=async(e,t)=>{let s=await a.i.login(e,t);return!!s.success&&!!s.user&&(l(s.user),!0)},m=async(e,t,s)=>{let i=await a.i.signup(e,t,s);return!!i.success&&!!i.user&&(l(i.user),!0)};return(0,i.jsx)(n.Provider,{value:{user:s,isAuthenticated:!!s,isLoading:c,login:d,signup:m,logout:()=>{a.i.logout(),l(null)}},children:t})}function c(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6023:function(e,t,s){s.d(t,{i:function(){return a}});let i="http://localhost:5001",r=async()=>{try{let e=await fetch("".concat(i,"/api/csrf-token"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),t=await e.json();if(e.ok&&t.success&&t.csrfToken)return t.csrfToken;return console.error("Failed to get CSRF token:",t.message),null}catch(e){return console.error("Network error getting CSRF token:",e),null}},a={async login(e,t){try{let s=await r();if(!s)return{success:!1,message:"Security token required. Please refresh and try again."};let a=await fetch("".concat(i,"/api/auth/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":s},body:JSON.stringify({email:e,password:t})}),n=await a.json();if(a.ok&&n.token)return localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.user)),{success:!0,user:n.user,token:n.token};return{success:!1,message:n.error||n.message||"Login failed"}}catch(e){return console.error("Login error:",e),{success:!1,message:"Network error occurred"}}},async signup(e,t,s){try{let a=await r();if(!a)return{success:!1,message:"Security token required. Please refresh and try again."};let n=await fetch("".concat(i,"/api/auth/signup"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":a},body:JSON.stringify({email:e,password:t,name:s})}),l=await n.json();if(n.ok&&l.token)return localStorage.setItem("token",l.token),localStorage.setItem("user",JSON.stringify(l.user)),{success:!0,user:l.user,token:l.token};return{success:!1,message:l.error||l.message||"Signup failed"}}catch(e){return console.error("Signup error:",e),{success:!1,message:"Network error occurred"}}},logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"},getToken:()=>localStorage.getItem("token"),getUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null},isAuthenticated(){return!!this.getToken()}}}}]);